:root{
  --bg:#0b0b12;
  --panel:rgba(255,255,255,.06);
  --panel2:rgba(255,255,255,.08);
  --stroke:rgba(255,255,255,.10);
  --text:#fff;
  --muted:rgba(255,255,255,.66);
  --muted2:rgba(255,255,255,.42);
  --good:#39d07b;
  --bad:#ff4d4d;
  --a:#4aa3ff;
  --b:#7c5cff;
  --shadow: 0 18px 45px rgba(0,0,0,.45);
  --shadow2: 0 10px 30px rgba(0,0,0,.28);
  --r:18px;
  --r2:14px;
}

@media (prefers-color-scheme: light){
  :root{
    --bg:#f5f6fb;
    --panel:rgba(0,0,0,.04);
    --panel2:rgba(0,0,0,.05);
    --stroke:rgba(0,0,0,.10);
    --text:#0b0b12;
    --muted:rgba(11,11,18,.66);
    --muted2:rgba(11,11,18,.42);
    --shadow: 0 18px 45px rgba(15,23,42,.12);
    --shadow2: 0 10px 30px rgba(15,23,42,.10);
  }
}

*{box-sizing:border-box;-webkit-tap-highlight-color:transparent}
html,body{height:100%}
body{
  margin:0;
  font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,system-ui,Arial,sans-serif;
  color:var(--text);
  background:var(--bg);
}
.bgGlow{
  position:fixed; inset:-40%;
  background:
    radial-gradient(900px 520px at 20% 10%, rgba(124,92,255,.32), transparent 60%),
    radial-gradient(900px 520px at 80% 15%, rgba(74,163,255,.28), transparent 60%);
  filter: blur(20px);
  pointer-events:none;
  z-index:-1;
}
.app{max-width:1180px;margin:0 auto;padding:16px 16px 80px}

.topbar{
  display:flex; align-items:center; justify-content:space-between;
  gap:14px; padding:12px 12px;
  border-radius:var(--r);
  background:var(--panel);
  border:1px solid var(--stroke);
  box-shadow:var(--shadow2);
  backdrop-filter: blur(10px);
}
.brand{display:flex; gap:12px; align-items:center}
.logoDot{
  width:14px;height:14px;border-radius:999px;
  background:linear-gradient(135deg,var(--a),var(--b));
  box-shadow:0 0 0 6px rgba(74,163,255,.12);
}
.title{font-weight:900;letter-spacing:.2px}
.subtitle{font-size:12px;color:var(--muted)}

.topActions{display:flex;gap:10px;align-items:center}

.btn{
  border:none; border-radius:12px;
  padding:10px 14px;
  font-weight:800;
  cursor:pointer;
}
.btn.primary{
  color:#fff;
  background:linear-gradient(135deg,var(--a),var(--b));
  box-shadow:var(--shadow2);
}
.btn.subtle{
  color:var(--text);
  background:var(--panel2);
  border:1px solid var(--stroke);
}
.btn:active{transform:translateY(1px)}

.layout{
  display:grid;
  grid-template-columns: 380px 1fr;
  gap:14px;
  margin-top:14px;
}
@media (max-width: 980px){
  .layout{grid-template-columns:1fr}
}

.panel{
  border-radius:var(--r);
  background:var(--panel);
  border:1px solid var(--stroke);
  box-shadow:var(--shadow2);
  backdrop-filter: blur(10px);
  overflow:hidden;
}
.left{padding:14px}
.right{padding:14px}

.sectionHead{
  display:flex; align-items:center; justify-content:space-between; gap:10px;
  margin-bottom:12px;
}
.sectionHead .h{font-weight:900;letter-spacing:.2px}

.pill{
  display:inline-flex; align-items:center; gap:8px;
  padding:8px 11px; border-radius:999px;
  border:1px solid var(--stroke);
  background:var(--panel2);
  color:var(--muted);
  font-size:12px;
  font-weight:800;
  white-space:nowrap;
}
.pill.good{color:rgba(57,208,123,.95);border-color:rgba(57,208,123,.25);background:rgba(57,208,123,.10)}
.pill.bad{color:rgba(255,77,77,.95);border-color:rgba(255,77,77,.25);background:rgba(255,77,77,.10)}
.pill.lock{color:var(--muted)}

.grid2{display:grid;grid-template-columns:1fr 1fr;gap:10px}
@media (max-width: 450px){
  .grid2{grid-template-columns:1fr}
}
.field{display:flex;flex-direction:column;gap:6px}
.field span{font-size:12px;color:var(--muted);font-weight:800}
select{
  appearance:none;
  border-radius:12px;
  padding:10px 12px;
  border:1px solid var(--stroke);
  background:rgba(255,255,255,.06);
  color:var(--text);
  font-weight:800;
}

.row{display:flex;justify-content:space-between;align-items:center;gap:10px;margin-top:12px}

.cards{display:grid;grid-template-columns:1fr;gap:10px;margin-top:14px}
.card{
  border-radius:16px;
  border:1px solid var(--stroke);
  background:rgba(255,255,255,.05);
  padding:14px;
  display:flex; justify-content:space-between; align-items:baseline;
}
.k{font-size:12px;color:var(--muted);font-weight:900}
.v{font-size:30px;font-weight:950;letter-spacing:.3px}
.v.good{color:rgba(57,208,123,.98)}

.hint{
  margin-top:14px;
  padding:12px;
  border-radius:16px;
  border:1px solid var(--stroke);
  background:rgba(255,255,255,.04);
  color:var(--muted);
  font-size:13px;
  line-height:1.35;
}

.scanHero{
  min-height: 420px;
  display:flex;
  flex-direction:column;
  align-items:center;
  justify-content:center;
  gap:16px;
  padding: 10px 10px 18px;
}
.heroTop{text-align:center;max-width:640px}
.heroTitle{font-weight:950;font-size:22px;letter-spacing:.3px}
.heroSub{color:var(--muted);font-size:14px;margin-top:6px}

.ring{
  width:210px;height:210px;border-radius:999px;
  background: conic-gradient(from 180deg, var(--good) calc(var(--p) * 1%), rgba(255,255,255,.12) 0);
  border:1px solid var(--stroke);
  box-shadow:var(--shadow);
  display:grid;place-items:center;
}
.ringInner{
  width:164px;height:164px;border-radius:999px;
  background: radial-gradient(90px 90px at 30% 25%, rgba(124,92,255,.25), transparent 60%),
              radial-gradient(90px 90px at 70% 80%, rgba(74,163,255,.22), transparent 60%),
              rgba(0,0,0,.16);
  border:1px solid var(--stroke);
  display:flex;flex-direction:column;align-items:center;justify-content:center;
}
.pct{font-weight:980;font-size:34px;letter-spacing:.3px}
.pctLabel{font-size:12px;color:var(--muted);font-weight:900}

.last{width:100%;max-width:520px;text-align:center}
.lastLabel{font-size:12px;color:var(--muted2);font-weight:900;text-transform:uppercase;letter-spacing:.12em}
.lastCode{
  font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", monospace;
  margin-top:6px;
  font-size:15px;
  color:var(--muted);
}
.toast{margin-top:10px;min-height:18px;font-weight:900}
.toast.good{color:rgba(57,208,123,.98)}
.toast.bad{color:rgba(255,77,77,.98)}

.fab{
  position:fixed;right:18px;bottom:18px;
  width:64px;height:64px;border-radius:999px;
  border:none;color:#fff;font-size:22px;
  background:linear-gradient(135deg,var(--a),var(--b));
  box-shadow:var(--shadow);
}
.fab:active{transform:translateY(1px)}

.modal{
  position:fixed; inset:0;
  display:none;
  padding:16px;
  background:rgba(0,0,0,.62);
  backdrop-filter: blur(10px);
  z-index:9999;
}
.modalCard{
  max-width:860px;
  margin: 0 auto;
  border-radius:22px;
  overflow:hidden;
  background:rgba(20,20,30,.92);
  border:1px solid rgba(255,255,255,.14);
  box-shadow:var(--shadow);
}
.modalTop{
  display:flex;align-items:center;justify-content:space-between;
  padding:12px 14px;
  border-bottom:1px solid rgba(255,255,255,.12);
}
.modalTitle{font-weight:950;letter-spacing:.2px}
.modalBody{
  position:relative;
  aspect-ratio: 16/10;
  background:#000;
}
#camVideo{width:100%;height:100%;object-fit:cover}
.modalHint{
  position:absolute; left:12px; right:12px; bottom:12px;
  padding:10px 12px;
  border-radius:14px;
  background:rgba(0,0,0,.45);
  border:1px solid rgba(255,255,255,.12);
  color:rgba(255,255,255,.86);
  font-size:13px;
}
