:root{
  --bg:#020617;
  --panel:#0f172a;
  --muted:#94a3b8;
  --accent:#22c55e;
  --danger:#ef4444;
  --ring:#38bdf8;
}

*{
  box-sizing:border-box;
  font-family:-apple-system,BlinkMacSystemFont,"SF Pro Text","Segoe UI",Roboto,Arial;
}

body{
  margin:0;
  background:radial-gradient(circle at top,#020617,#000);
  color:#fff;
  padding:16px;
}

/* HEADER */
header{text-align:center;margin-bottom:12px}
header h1{margin:0;font-size:22px;letter-spacing:.12em}
#heroSub{color:var(--muted);font-size:14px}

/* STATUS BANNER (NON-INTERACTIVE) */
.status-banner{
  background:linear-gradient(180deg,#14532d,#052e16);
  border:1px solid rgba(34,197,94,.4);
  color:#dcfce7;
  padding:12px;
  border-radius:14px;
  text-align:center;
  font-weight:700;
  margin-bottom:12px;
  pointer-events:none; /* ðŸ”¥ critical */
}
.hidden{display:none}

/* BUTTONS */
button{
  background:linear-gradient(180deg,#1e293b,#020617);
  border:1px solid rgba(255,255,255,.1);
  color:white;
  padding:12px 16px;
  border-radius:14px;
  font-size:15px;
  font-weight:600;
  box-shadow:0 8px 20px rgba(0,0,0,.5);
}
button.secondary{background:#020617}
button.danger{background:linear-gradient(180deg,#7f1d1d,#450a0a)}
button:active{transform:scale(.97)}

#btnCamera{
  touch-action:manipulation;
  -webkit-tap-highlight-color:transparent;
}

/* CONTROLS */
.controls{display:flex;gap:10px;margin-bottom:10px}
.controls button{flex:1}

/* STATS */
.stats{display:flex;justify-content:space-between;margin:16px 0}
.stat{text-align:center}
.stat span{font-size:12px;color:var(--muted)}
.stat strong{font-size:22px}

/* RING */
.ring-wrap{display:flex;justify-content:center;margin:14px 0}
.ring{
  width:120px;height:120px;border-radius:50%;
  background:conic-gradient(var(--ring) calc(var(--p,0)*1%),#1e293b 0);
  display:grid;place-items:center;
  font-size:22px;font-weight:700;
}

/* SCAN DETAILS */
.scan-details{
  background:var(--panel);
  padding:14px;
  border-radius:16px;
  margin-bottom:14px;
}
.sd-stock{font-size:18px;font-weight:700}
.sd-serial{margin-top:4px;font-size:16px;color:#93c5fd}
.sd-meta{margin-top:6px;font-size:14px;color:var(--muted)}

/* HISTORY */
.history h3{margin:12px 0 6px}
.history ul{list-style:none;padding:0;margin:0}
.history li{
  padding:8px 0;
  border-bottom:1px solid rgba(255,255,255,.08);
  font-size:14px;
}

/* TOAST */
.toast{
  position:fixed;
  bottom:30px;
  left:50%;
  transform:translateX(-50%);
  padding:10px 16px;
  border-radius:14px;
  opacity:0;
  transition:opacity .3s;
}
.toast.good{background:var(--accent);opacity:1}
.toast.bad{background:var(--danger);opacity:1}

/* CAMERA */
.cam-modal{
  position:fixed;
  inset:0;
  background:black;
  z-index:9999;
  display:none;
}
.cam-modal video{
  width:100%;
  height:100%;
  object-fit:cover;
}
.cam-controls{
  position:absolute;
  bottom:20px;
  left:0;
  right:0;
  padding:0 16px;
}
